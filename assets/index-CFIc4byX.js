(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();let re={},x=[],ie={},P={},y="NFC",v="EAST";const le="nflDivisionDashboard.settings.v1",ae="nflDivisionDashboard.history.v1",ye=20,ve="data.json",q="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E",Ee=q,ce=["localhost","127.0.0.1","::1"].includes(window.location.hostname);let L=[],w={},T=null,C={},u=[],Q=null,ee=0;const Le=["#04133b","#0b2a6e"],te={AFC:"https://upload.wikimedia.org/wikipedia/commons/7/7a/American_Football_Conference_logo.svg",NFC:"https://upload.wikimedia.org/wikipedia/commons/6/6f/National_Football_Conference_logo.svg"};let m=q,p=["#1e3a8a","#3b82f6"];function be(){return Promise.resolve(window.domtoimage)}function Ie(e){if(typeof e!="string"||!e.startsWith("data:;base64,"))return e;const t=e.slice(13);return`data:${t.startsWith("PHN2Zy")||t.startsWith("PD94bWwg")?"image/svg+xml":"image/png"};base64,${t}`}function Se(e){e&&e.querySelectorAll("img").forEach(t=>{const o=t.getAttribute("src")||"",n=Ie(o);n!==o&&(console.warn("[export] normalized typeless data URL",{alt:t.alt||"",originalPrefix:o.slice(0,40)}),t.setAttribute("src",n))})}function Ce(e){var t;if(!e)return{summary:"Unknown export error"};if(e instanceof Event){const o=e.target||e.srcElement||null,n=o&&(o.currentSrc||o.src||((t=o.getAttribute)==null?void 0:t.call(o,"src")))||null;return{summary:`DOM event error: ${e.type||"unknown"}`,isTrusted:!!e.isTrusted,failedSrc:n,targetTag:o&&o.tagName?o.tagName:null}}return e instanceof Error?{summary:e.message||"Error",name:e.name||"Error",stack:e.stack||null}:typeof e=="object"?{summary:"Object error",...e}:{summary:String(e)}}function we(e,t){return new Promise(o=>{if(!e){o({ok:!1,reason:"missing"});return}if(e.complete){const i=(e.naturalWidth||0)>0;o({ok:i,reason:i?"complete":"broken"});return}let n=!1;const s=i=>{n||(n=!0,e.removeEventListener("load",r),e.removeEventListener("error",l),clearTimeout(a),o(i))},r=()=>s({ok:!0,reason:"load"}),l=()=>s({ok:!1,reason:"error"}),a=setTimeout(()=>s({ok:!1,reason:"timeout"}),t);e.addEventListener("load",r,{once:!0}),e.addEventListener("error",l,{once:!0})})}async function xe(e){const t=Array.from(e.querySelectorAll("img"));if(!t.length)return;const o=await Promise.all(t.map(s=>we(s,900))),n=[];o.forEach((s,r)=>{if(s.ok)return;const l=t[r];n.push({reason:s.reason,src:(l.currentSrc||l.src||"").slice(0,240),alt:l.alt||""}),l.src=q}),n.length?console.warn("[export] image preflight replaced problematic images",n):console.log("[export] image preflight all good")}function Be(e){return e instanceof Element?!(e.id==="history-controls"||e.id==="history-popover"||e.id==="custom-panel"||e.id==="custom-overlay"||e.classList.contains("controls")||e.closest(".controls")||e.closest("#history-controls")||e.closest("#custom-panel")||e.closest("#custom-overlay")):!0}function _(){return`${y.toLowerCase()}_${v.toLowerCase()}`}function B(){return`${y} ${v}`}function D(e){if(!ce||!e||e.startsWith("data:"))return e;try{const n=new URL(e,window.location.href).pathname||"";if(/\.(svg|png|jpe?g|gif|webp|avif)$/i.test(n))return e}catch{}const t=e.includes("?")?"&":"?";return`${e}${t}devcb=${Date.now()}`}function z(){document.querySelectorAll(".conference-toggle").forEach(e=>{e.classList.toggle("active",e.dataset.value===y)}),document.querySelectorAll(".division-toggle-btn").forEach(e=>{e.classList.toggle("active",e.dataset.value===v)})}function ke(){return N()[0]||{url:q,color:"#1e3a8a,#3b82f6",tint:null}}function Te(e){if(e===void 0)return;if(e===null)return null;const t=String(e).trim().toLowerCase();return!t||t==="null"||t==="none"?null:t==="white"||t==="black"?t:null}function N(){const e=_();return(re[e]||[]).map(o=>{const n=Object.prototype.hasOwnProperty.call(o,"tint"),s=Te(o.tint);return{...o,hasExplicitTint:n,tint:n?s:de(o.label||"")?"white":null}})}function R(e){const t=(e||"").split(",");return[t[0]?t[0].trim():"#1e3a8a",t[1]?t[1].trim():"#3b82f6"]}function j(e){if(!e||typeof e!="string")return null;const t=e.trim().replace("#",""),o=t.length===3?t.split("").map(n=>n+n).join(""):t;return/^[0-9a-fA-F]{6}$/.test(o)?{r:parseInt(o.slice(0,2),16),g:parseInt(o.slice(2,4),16),b:parseInt(o.slice(4,6),16)}:null}function G(e){const t=o=>Math.max(0,Math.min(255,Math.round(o))).toString(16).padStart(2,"0");return`#${t(e.r)}${t(e.g)}${t(e.b)}`}function Ae(e){return .2126*e.r+.7152*e.g+.0722*e.b}function oe(e){const t=j(e);if(!t)return"#1e3a8a";const o=Ae(t);if(o<=120)return e;const n=120/o;return G({r:t.r*n,g:t.g*n,b:t.b*n})}function ne(e){const t=j(e);return t?G({r:t.r*.82,g:t.g*.9,b:t.b*1.15+12}):"#1e3a8a"}function De(e){const t=Ne(),o=de(t)?Le:e,n=oe(ne(o[0])),s=oe(ne(o[1]));if(n.toLowerCase()===s.toLowerCase()){const r=j(s)||{r:30,g:58,b:138};return[n,G({r:r.r*.85,g:r.g*.85,b:r.b*.85})]}return[n,s]}function K(){const e=document.querySelector(".logo-toggle.active");return e&&e.dataset.url==="custom"&&document.getElementById("custom-logo-url").value||m}function Y(){const e=document.querySelector(".logo-toggle.active");if(e&&e.dataset.url==="custom")return null;const t=e?e.dataset.url:K();return N().find(o=>o.url===t)||null}function Ne(){const e=Y();return e&&e.label||""}function de(e){const t=(e||"").trim().toLowerCase();return t.includes("fox")&&!t.includes("fox 29")}function A(e){document.querySelector(".header").classList.toggle("dark-logo-bg",!!e)}function Oe(){const e=Y();return e?e.tint==="white":!1}function $e(e){const t=(e||"").replace("#","").trim(),o=t.length===3?t.split("").map(n=>n+n).join(""):t;return/^[0-9a-fA-F]{6}$/.test(o)?{r:parseInt(o.slice(0,2),16),g:parseInt(o.slice(2,4),16),b:parseInt(o.slice(4,6),16)}:null}function Pe(e,t){const o=e.r-t.r,n=e.g-t.g,s=e.b-t.b;return Math.sqrt(o*o+n*n+s*s)}function He(e){return .2126*e.r+.7152*e.g+.0722*e.b}function qe(e,t){return new Promise(o=>{if(!e){o({needsLightHeader:!1,needsInvert:!1,invertToWhite:!0});return}const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{try{const s=document.createElement("canvas");s.width=40,s.height=40;const r=s.getContext("2d",{willReadFrequently:!0});r.clearRect(0,0,40,40),r.drawImage(n,0,0,40,40);const l=r.getImageData(0,0,40,40).data;let a=0,i=0,c=0,g=0,f=0,h=0;for(let d=0;d<l.length;d+=4){const V=l[d],X=l[d+1],Z=l[d+2];if(l[d+3]<20)continue;c++,.2126*V+.7152*X+.0722*Z<48&&i++,g+=V,f+=X,h+=Z,a++}if(!a||c<40){o({needsLightHeader:!1,needsInvert:!1,invertToWhite:!0});return}const b=i/a,S={r:Math.round(g/a),g:Math.round(f/a),b:Math.round(h/a)},k=$e(t)||{r:30,g:58,b:138},O=Pe(S,k)<62,$=He(k)<150;o({needsLightHeader:b>.65,needsInvert:O,invertToWhite:$})}catch{o({needsLightHeader:!1,needsInvert:!1,invertToWhite:!0})}},n.onerror=()=>o({needsLightHeader:!1,needsInvert:!1,invertToWhite:!0}),n.src=D(e)})}function _e(e,t){const o=++ee,n=document.getElementById("network-logo"),s=Y(),r=s?s.tint??null:null,l=!!(s&&s.hasExplicitTint&&r===null),a=Oe();if(n.classList.toggle("logo-white-invert",r==="white"||a),n.classList.remove("logo-black-invert"),r==="black"){n.classList.remove("logo-white-invert"),n.classList.add("logo-black-invert"),A(!1);return}if(r==="white"||a){A(!1);return}A(!1),qe(e,t).then(i=>{if(o===ee){if(i.needsInvert&&!l){n.classList.toggle("logo-white-invert",i.invertToWhite),n.classList.toggle("logo-black-invert",!i.invertToWhite),A(!1);return}n.classList.remove("logo-white-invert"),n.classList.remove("logo-black-invert"),A(i.needsLightHeader)}})}function I(){const e=_();x.length&&(C[e]={title:document.getElementById("custom-title").value,subtitle:document.getElementById("custom-subtitle").value,order:[...L],values:{...w},logoUrl:m,colors:[...p]})}function ue(){return{selectedConference:y,selectedDivision:v,divisionStates:JSON.parse(JSON.stringify(C)),selectedLogoUrl:m,selectedHeaderColors:[...p],customLogoInput:document.getElementById("custom-logo-url").value||""}}function E(e={}){const{skipHistory:t=!1}=e;try{localStorage.setItem(le,JSON.stringify(ue())),t||ze()}catch(o){console.warn("Unable to save settings:",o)}}function Fe(){try{const e=localStorage.getItem(le);if(!e)return;const t=JSON.parse(e);y=t.selectedConference||y,v=t.selectedDivision||v,C=t.divisionStates||{},m=t.selectedLogoUrl||m,p=Array.isArray(t.selectedHeaderColors)&&t.selectedHeaderColors.length===2?t.selectedHeaderColors:p,document.getElementById("custom-logo-url").value=t.customLogoInput||""}catch(e){console.warn("Unable to restore settings:",e)}}function J(){try{localStorage.setItem(ae,JSON.stringify(u))}catch(e){console.warn("Unable to save history:",e)}}function Me(){try{const e=localStorage.getItem(ae);u=e?JSON.parse(e):[],u=u.map(t=>{if(t.uniqueKey)return t;const o=t.state||{};return{...t,uniqueKey:me(o)}})}catch{u=[]}}function W(e){return e===null||typeof e!="object"?JSON.stringify(e):Array.isArray(e)?`[${e.map(o=>W(o)).join(",")}]`:`{${Object.keys(e).sort().map(o=>`${JSON.stringify(o)}:${W(e[o])}`).join(",")}}`}function Ue(e){let t=2166136261;for(let o=0;o<e.length;o++)t^=e.charCodeAt(o),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return(t>>>0).toString(36)}function me(e){return Ue(W(e))}function Re(e){return new Date(e).toLocaleString([],{dateStyle:"short",timeStyle:"short"})}function F(){const e=document.getElementById("history-controls"),t=document.getElementById("history-popover"),o=document.getElementById("history-toggle-btn");e.style.display=u.length?"flex":"none",o.textContent=u.length?`Previous ${u.length}`:"Snapshots",t.innerHTML="",u.forEach(n=>{var k,O,$;const s=n.conference||((k=n.state)==null?void 0:k.selectedConference)||"",r=n.division||((O=n.state)==null?void 0:O.selectedDivision)||"",l=n.stationLogoUrl||(($=n.state)==null?void 0:$.selectedLogoUrl)||"",a=document.createElement("div");a.className=`history-item${n.auto?" auto":""}`,a.dataset.id=n.id;const i=document.createElement("div");i.className="history-item-top";const c=document.createElement("div");if(c.className="history-item-logos",te[s]){const d=document.createElement("img");d.className="history-conf-logo",d.alt=s||"Conference",d.loading="lazy",d.decoding="async",d.dataset.src=te[s],c.appendChild(d)}if(l){const d=document.createElement("img");d.className="history-station-logo",d.alt=n.stationLabel||"Station",d.loading="lazy",d.decoding="async",d.dataset.src=l,c.appendChild(d)}const g=document.createElement("span");g.className="history-division-badge",g.textContent=`${s} ${r}`.trim(),c.appendChild(g);const f=document.createElement("button");f.className="history-delete-btn",f.type="button",f.textContent="×",f.addEventListener("click",d=>{d.stopPropagation(),Ge(n.id)}),i.appendChild(c),i.appendChild(f),a.appendChild(i);const h=document.createElement("div");h.className="history-item-title",h.textContent=n.title||"Custom",a.appendChild(h);const b=document.createElement("div");b.className="history-item-subtitle",b.textContent=n.subtitle||`In the ${s} ${r}`.trim(),a.appendChild(b);const S=document.createElement("div");S.className="history-item-date",S.textContent=Re(n.createdAt||Number(n.id)),a.appendChild(S),a.addEventListener("click",()=>{je(n.id),document.getElementById("history-popover").classList.remove("visible")}),t.appendChild(a)}),t.classList.contains("visible")&&ge()}function ge(){document.querySelectorAll("#history-popover img[data-src]").forEach(e=>{e.src||(e.src=D(e.dataset.src)),e.removeAttribute("data-src")})}function We(e=!1){I();const t=ue(),o=me(t);if(u[0]&&u[0].uniqueKey===o)return;const n=new Date,s=document.querySelector(".logo-toggle.active"),r=n.toISOString(),l={id:`snap_${o}`,createdAt:r,conference:y,division:v,stationLabel:s?s.textContent.trim():"",stationLogoUrl:K(),title:document.getElementById("custom-title").value||"Custom",subtitle:document.getElementById("custom-subtitle").value||`In the ${B()}`,auto:!!e,state:t,uniqueKey:o},a=u.findIndex(i=>i.uniqueKey===o);a>=0&&u.splice(a,1),u.unshift(l),u=u.slice(0,ye),J(),F()}function ze(){clearTimeout(Q),Q=setTimeout(()=>We(!0),1200)}function je(e){const t=u.findIndex(r=>r.id===e),o=t>=0?u[t]:null;if(!o)return;const n=o.state||{};y=n.selectedConference||y,v=n.selectedDivision||v,C=n.divisionStates||{},m=n.selectedLogoUrl||m,p=Array.isArray(n.selectedHeaderColors)&&n.selectedHeaderColors.length===2?n.selectedHeaderColors:p,document.getElementById("custom-logo-url").value=n.customLogoInput||"",z();const s=new Date().toISOString();o.createdAt=s,u.splice(t,1),u.unshift(o),J(),F(),H().then(()=>{E({skipHistory:!0})})}function Ge(e){u=u.filter(t=>t.id!==e),J(),F()}function Ke(){const e=_(),t=C[e],o=ke(),n=N();if(L=x.map(s=>s.team),w={},m=o.url,p=R(o.color),document.getElementById("custom-title").value="",document.getElementById("custom-subtitle").value=`In the ${B()}`,t){document.getElementById("custom-title").value=t.title||"",document.getElementById("custom-subtitle").value=t.subtitle||`In the ${B()}`,L=t.order&&t.order.length?[...t.order]:L,w=t.values?{...t.values}:{},m=t.logoUrl||m,p=t.colors&&t.colors.length===2?[...t.colors]:p;const s=n.some(a=>a.url===m),r=(document.getElementById("custom-logo-url").value||"").trim();!s&&!(!!r&&r===m)&&(m=o.url,p=R(o.color),C[e]&&(C[e].logoUrl=m,C[e].colors=[...p]))}}function fe(){const e=document.getElementById("division-station-options");e.innerHTML="";const t=document.createElement("div");t.className="logo-group";const o=document.createElement("div");o.className="logo-group-label",o.textContent=`${B()} Top Stations`,t.appendChild(o);const n=document.createElement("div");n.className="logo-group-buttons",N().forEach(l=>{const a=document.createElement("button");a.className="logo-toggle",a.dataset.url=l.url,a.dataset.color=l.color,a.dataset.tint=l.tint==null?"null":String(l.tint),a.textContent=l.label,l.url===m&&a.classList.add("active"),a.addEventListener("click",U),n.appendChild(a)}),t.appendChild(n),e.appendChild(t);const s=document.querySelector('.logo-toggle[data-url="custom"]');if(s){const l=N().some(a=>a.url===m);s.classList.toggle("active",!l),s.removeEventListener("click",U),s.addEventListener("click",U)}const r=document.getElementById("custom-logo-url");s&&s.classList.contains("active")?r.classList.add("visible"):r.classList.remove("visible")}function U(e){const t=e.currentTarget;document.querySelectorAll(".logo-toggle").forEach(n=>n.classList.remove("active")),t.classList.add("active");const o=document.getElementById("custom-logo-url");t.dataset.url==="custom"?(o.classList.add("visible"),o.focus()):(o.classList.remove("visible"),m=t.dataset.url),p=R(t.dataset.color),E()}function Ye(){const e=document.getElementById("custom-panel"),t=document.getElementById("custom-overlay");e.classList.add("visible"),t.classList.add("visible"),fe(),M()}function pe(){document.getElementById("custom-panel").classList.remove("visible"),document.getElementById("custom-overlay").classList.remove("visible")}function M(){const e=document.getElementById("custom-team-inputs");e.innerHTML="",L.forEach((t,o)=>{const n=x.find(i=>i.team===t);if(!n)return;const s=document.createElement("div");s.className="custom-team-row",s.style.background=n.color,s.draggable=!0,s.dataset.team=t,s.dataset.index=o;const r=document.createElement("span");r.className="drag-handle",r.textContent="☰";const l=document.createElement("span");l.className="team-name",l.textContent=t;const a=document.createElement("input");a.type="text",a.placeholder="Value",a.value=w[t]||"",a.addEventListener("input",i=>{w[t]=i.target.value,I(),E()}),s.appendChild(r),s.appendChild(l),s.appendChild(a),e.appendChild(s),s.addEventListener("dragstart",i=>{T=o,s.classList.add("dragging"),i.dataTransfer.effectAllowed="move"}),s.addEventListener("dragend",()=>{s.classList.remove("dragging"),e.querySelectorAll(".custom-team-row").forEach(i=>i.classList.remove("drag-over"))}),s.addEventListener("dragover",i=>{i.preventDefault(),i.dataTransfer.dropEffect="move",e.querySelectorAll(".custom-team-row").forEach(c=>c.classList.remove("drag-over")),s.classList.add("drag-over")}),s.addEventListener("drop",i=>{i.preventDefault(),s.classList.remove("drag-over");const c=parseInt(s.dataset.index,10);if(T!==null&&T!==c){const g=L.splice(T,1)[0];L.splice(c,0,g),M()}T=null})})}function se(e){L.sort((t,o)=>{const n=w[t]||"",s=w[o]||"",r=parseFloat(n),l=parseFloat(s);return!isNaN(r)&&!isNaN(l)?e?r-l:l-r:e?n.localeCompare(s):s.localeCompare(n)}),M(),I(),E()}function he(){const e=document.getElementById("custom-title").value||"Custom",t=document.getElementById("custom-subtitle").value||`In the ${B()}`,o=K();document.getElementById("page-title").textContent=e,document.getElementById("page-subtitle").textContent=t;const n=document.getElementById("network-logo");n.src=D(o),n.alt=`${B()} Network Logo`,_e(o,p[0]);const s=De(p);document.querySelector(".header").style.background=`linear-gradient(135deg, ${s[0]} 0%, ${s[1]} 100%)`;const r=document.getElementById("teams-container");if(r.innerHTML="",!x.length){r.innerHTML='<div style="color: white; text-align: center; padding: 50px;">No team data found for this division</div>';return}L.forEach((l,a)=>{const i=x.find(b=>b.team===l);if(!i)return;const c=document.createElement("div");c.className="team-row",c.style.backgroundColor=i.color,c.style.zIndex=L.length-a;const g=document.createElement("img");g.crossOrigin="anonymous",g.src=D(i.logo),g.alt=`${i.team} Logo`,g.className="team-logo";const f=document.createElement("div");f.className="points";const h=w[l]||"";h.length>10?f.style.fontSize="60px":h.length>6&&(f.style.fontSize="80px"),f.textContent=h,c.appendChild(g),c.appendChild(f),r.appendChild(c)})}function Je(){pe(),I(),he(),E()}function Ve(e){if(P[e])return Promise.resolve(P[e]);const t=ie[e]||[];return P[e]={teams:t},Promise.resolve(P[e])}function H(){const e=_();return Ve(e).then(t=>{x=t.teams||[],z(),Ke(),fe(),M(),he()})}function Xe(){console.log("[export] clicked");const e=document.getElementById("export-btn"),t=document.querySelector(".controls"),o=document.getElementById("history-controls"),n=document.getElementById("history-popover"),s=document.querySelector(".container");if(!t||!s||!e){console.error("[export] missing refs",{hasControls:!!t,hasContainer:!!s,hasButton:!!e}),alert("Export failed: missing UI container.");return}console.log("[export] refs ok",{containerSize:{width:s.offsetWidth,height:s.offsetHeight},imgCount:s.querySelectorAll("img").length});const r=t.style.display,l=o?o.style.display:"",a=!!n&&n.classList.contains("visible");t.style.display="none",o&&(o.style.display="none"),n&&n.classList.remove("visible"),e.textContent="Exporting...",e.disabled=!0,console.log("[export] ui locked"),setTimeout(()=>{console.log("[export] normalize sources start"),Se(s),console.log("[export] normalize sources done"),xe(s).then(()=>{console.log("[export] loading dom-to-image"),be().then(i=>(console.log("[export] dom-to-image loaded",{hasToPng:!!(i&&i.toPng)}),console.log("[export] toPng start"),i.toPng(s,{width:1080,height:1920,quality:1,cacheBust:!0,imagePlaceholder:Ee,filter:Be,style:{margin:"0",padding:"0"}}))).then(i=>{console.log("[export] toPng resolved",{dataUrlPrefix:typeof i=="string"?i.slice(0,30):typeof i});const c=document.createElement("a"),g=new Date,f=String(g.getMonth()+1).padStart(2,"0"),h=String(g.getDate()).padStart(2,"0"),b=String(g.getFullYear()).slice(-2),S=`${y}${v}Meme-${f}-${h}-${b}.png`;c.download=S,c.href=i,c.click(),console.log("[export] download triggered",{filename:S})}).catch(i=>{const c=Ce(i);window.lastExportError=c,console.error("[export] failed",c),alert("Error exporting image. Please try again.")}).finally(()=>{console.log("[export] finally restore ui"),t.style.display=r||"flex",o&&(o.style.display=l),n&&a&&n.classList.add("visible"),e.textContent="Export PNG",e.disabled=!1,console.log("[export] done")})}).catch(i=>{console.error("[export] preflight failed",i),t.style.display=r||"flex",o&&(o.style.display=l),n&&a&&n.classList.add("visible"),e.textContent="Export PNG",e.disabled=!1})},300)}fetch(D(ve),{cache:ce?"no-store":"default"}).then(e=>{if(!e.ok)throw new Error("Missing data.json");return e.json()}).then(e=>{ie=e.teamsByDivision||{},re=e.stationsByDivision||{},Fe(),Me(),F(),z(),document.querySelectorAll(".conference-toggle").forEach(t=>{t.addEventListener("click",()=>{const o=t.dataset.value;o!==y&&(I(),y=o,H().then(()=>E()))})}),document.querySelectorAll(".division-toggle-btn").forEach(t=>{t.addEventListener("click",()=>{const o=t.dataset.value;o!==v&&(I(),v=o,H().then(()=>E()))})}),document.getElementById("custom-logo-url").addEventListener("input",t=>{var o;((o=document.querySelector(".logo-toggle.active"))==null?void 0:o.dataset.url)==="custom"&&(m=t.target.value.trim()||m,I(),E())}),document.getElementById("custom-title").addEventListener("input",()=>{I(),E()}),document.getElementById("custom-subtitle").addEventListener("input",()=>{I(),E()}),document.getElementById("sort-asc-btn").addEventListener("click",()=>se(!0)),document.getElementById("sort-desc-btn").addEventListener("click",()=>se(!1)),document.getElementById("custom-apply-btn").addEventListener("click",Je),document.getElementById("custom-overlay").addEventListener("click",pe),document.getElementById("edit-btn").addEventListener("click",Ye),document.getElementById("export-btn").addEventListener("click",Xe),document.getElementById("history-toggle-btn").addEventListener("click",t=>{t.stopPropagation();const o=document.getElementById("history-popover");o.classList.toggle("visible"),o.classList.contains("visible")&&ge()}),document.getElementById("history-popover").addEventListener("click",t=>{t.stopPropagation()}),document.addEventListener("click",()=>{document.getElementById("history-popover").classList.remove("visible")}),H().then(()=>E())}).catch(e=>{console.error("Error loading data:",e),document.getElementById("teams-container").innerHTML='<div style="color: white; text-align: center; padding: 50px;">Error loading data</div>'});
